<div
  class="sidebar-open flex h-screen bg-background text-foreground"
  [class.sidebar-open]="sidebarOpen()"
>
  <!-- Sidebar -->
  <aside
    class="fixed z-30 h-full w-56 -translate-x-full border-r border-border bg-background transition-transform duration-200 md:relative md:translate-x-0"
    [class.translate-x-0]="sidebarOpen()"
  >
    <div class="h-full overflow-y-auto">
      <app-sidebar></app-sidebar>
    </div>
  </aside>

  <!-- Main wrapper -->
  <div class="flex min-w-0 flex-1 flex-col">
    <app-top-bar (menuToggle)="toggleSidebar()"></app-top-bar>
    <main class="flex-1 overflow-y-auto bg-background-secondary">
      <div class="p-6">
        <router-outlet></router-outlet>
      </div>
    </main>
  </div>

  <!-- Mobile overlay -->
  @if (sidebarOpen()) {
    <div
      class="fixed inset-0 z-20 bg-black/50 backdrop-blur-sm md:hidden"
      (click)="toggleSidebar()"
      aria-hidden="true"
    ></div>
  }

  <!-- Settings Modal -->
  <lib-modal
    [isOpen]="settingsStore.isModalOpen()"
    (closeModal)="settingsStore.closeModal()"
    size="sm"
  >
    <app-settings-modal (closeModal)="settingsStore.closeModal()" />
  </lib-modal>
</div>
